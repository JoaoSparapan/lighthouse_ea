version: 2
sources:
  - name: erp
    description: ERP do BanVic
    schema: dbt_lighthousejm
    tables:
    - name: agencias
      columns:
        - name: cod_agencia
          description: Coluna com o código dos países.
          tests:
            - unique
            - not_null
        - name: nome
          description: Coluna com o nome da agência.
          tests:
            - not_null
        - name: endereco
          description: Coluna com o endereço da agência.
          tests:
            - not_null
        - name: cidade
          description: Coluna com a cidade da agência.
          tests:
            - not_null
        - name: uf
          description: Coluna com a UF da agência.
          tests:
            - not_null
        - name: data_abertura
          description: Coluna com a data de abertura da agência.
          tests:
            - not_null
        - name: tipo_agencia
          description: Coluna com o tipo da agência.
          tests:
            - not_null
            - accepted_values:
                values: ['Física', 'Digital']
    - name: clientes
      columns:
        - name: cod_cliente
          description: Coluna com o código do cliente.
          tests:
            - unique
            - not_null
        - name: primeiro_nome
          description: Coluna com o nome do cliente.
          tests:
            - not_null
        - name: ultimo_nome
          description: Coluna com o último nome do cliente.
          tests:
            - not_null
        - name: tipo_cliente
          description: Coluna com o tipo do cliente.
          tests:
            - not_null
        - name: data_inclusao
          description: Coluna com a data de inclusão do cliente.
          tests:
            - not_null
        - name: data_nascimento
          description: Coluna com a data de nascimento do cliente.
          tests:
            - not_null
        - name: endereco
          description: Coluna com o endereço do cliente.
          tests:
            - not_null
        - name: cep
          description: Coluna com o CEP do cliente.
          tests:
            - not_null
    - name: colaboradores
      columns:
        - name: cod_colaborador
          description: Coluna com o código do colaborador.
          tests:
            - unique
            - not_null
        - name: primeiro_nome
          description: Coluna com o nome do colaborador.
          tests:
            - not_null
        - name: ultimo_nome
          description: Coluna com o sobrenome do colaborador.
          tests:
            - not_null
    - name: colaborador_agencia
      columns:
        - name: cod_colaborador
          description: Coluna com o código do colaborador.
          tests:
            - unique
            - not_null
      columns:
        - name: cod_agencia
          description: Coluna com o código da agência.
          tests:
            - not_null
    - name: contas
      columns:
        - name: num_conta
          description: Coluna com o código da conta.
          tests:
            - unique
            - not_null
        - name: cod_cliente
          description: Coluna com o código do cliente da conta.
          tests:
            - not_null
        - name: cod_agencia
          description: Coluna com o código da agência da conta.
          tests:
            - not_null
        - name: cod_colaborador
          description: Coluna com o código do colaborador da conta.
          tests:
            - not_null
        - name: tipo_conta
          description: Coluna com o tipo da conta.
          tests:
            - not_null
        - name: data_abertura
          description: Coluna com a data de abertura da conta.
          tests:
            - not_null
        - name: saldo_total
          description: Coluna com o saldo total da conta.
          tests:
            - not_null
        - name: saldo_disponivel
          description: Coluna com o saldo disponível da conta.
          tests:
            - not_null
        - name: data_ultimo_lancamento
          description: Coluna com a data do último lançamento da conta.
          tests:
            - not_null
    - name: propostas_credito
      columns:
        - name: cod_proposta
          description: Coluna com o código da proposta.
          tests:
            - unique
            - not_null
        - name: cod_cliente
          description: Coluna com o código do cliente.
          tests:
            - not_null
        - name: cod_colaborador
          description: Coluna com o código do colaborador.
          tests:
            - not_null
        - name: data_entrada_proposta
          description: Coluna com a data de entrada da proposta.
          tests:
            - not_null
        - name: taxa_juros_mensal
          description: Coluna com a taxa de juros mensal da proposta.
          tests:
            - not_null
        - name: valor_proposta
          description: Coluna com o valor total da proposta.
          tests:
            - not_null
        - name: valor_financiamento
          description: Coluna com o valor do financiamento da proposta.
          tests:
            - not_null
        - name: valor_entrada
          description: Coluna com o valor de entrada da proposta.
          tests:
            - not_null
        - name: valor_prestacao
          description: Coluna com o valor da prestação da proposta.
          tests:
            - not_null
        - name: quantidade_parcelas
          description: Coluna com a quantidade de parcelas da proposta.
          tests:
            - not_null
        - name: carencia
          description: Coluna com o prazo de carência da proposta.
          tests:
            - not_null
        - name: status_proposta
          description: Coluna com o status da proposta.
          tests:
            - not_null


